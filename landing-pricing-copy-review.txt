This file is a merged representation of a subset of the codebase, containing specifically included files, combined into a single document by Repomix.

# File Summary

## Purpose
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

## File Format
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  a. A header with the file path (## File: path/to/file)
  b. The full contents of the file in a code block

## Usage Guidelines
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

## Notes
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: lib/copy/message-house.ts, components/marketing/sections/hero-section.tsx, components/marketing/sections/benefits-section.tsx, app/page.tsx, app/metadata.ts, app/page.metadata.tsx, lib/pricing/constants.ts, app/pricing/page.tsx, components/pricing/PricingCard.tsx, components/pricing/ComparisonTable.tsx, components/pricing/FreeVsPaidComparison.tsx, HERO_IMPLEMENTATION_REQUEST.md
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)

# Directory Structure
```
app/
  pricing/
    page.tsx
  metadata.ts
  page.metadata.tsx
  page.tsx
components/
  marketing/
    sections/
      benefits-section.tsx
      hero-section.tsx
  pricing/
    ComparisonTable.tsx
    FreeVsPaidComparison.tsx
    PricingCard.tsx
lib/
  copy/
    message-house.ts
  pricing/
    constants.ts
HERO_IMPLEMENTATION_REQUEST.md
```

# Files

## File: app/page.metadata.tsx
````typescript
import { generateMetadata, getJsonLd } from "./metadata";
import Script from "next/script";

// Export metadata for the home page
export const metadata = generateMetadata();

// Export a component that renders the JSON-LD script
export function JsonLd() {
  return (
    <Script
      id="home-json-ld"
      type="application/ld+json"
      dangerouslySetInnerHTML={{
        __html: getJsonLd()
      }}
    />
  );
}
````

## File: app/metadata.ts
````typescript
import { generateMetadata as baseGenerateMetadata, generateJsonLd } from "@/lib/seo";

// Generate metadata for the home page
export const generateMetadata = () => baseGenerateMetadata({
  title: "PMLE Exam Prep | Pass Google ML Certification - Testero",
  description: "Pass the PMLE exam with confidence. Updated for October 2024 changes. AI-powered practice questions, personalized study plans. Start free diagnostic.",
  keywords: [
    "PMLE exam", 
    "Professional Machine Learning Engineer", 
    "Google ML certification", 
    "PMLE practice questions", 
    "PMLE study guide", 
    "PMLE exam prep", 
    "Google cloud ML certification", 
    "Vertex AI exam questions", 
    "TensorFlow certification",
    "BigQuery ML exam",
    "MLOps certification",
    "PMLE October 2024",
    "PMLE pass rate",
    "PMLE exam cost",
    "machine learning engineer certification"
  ],
  canonical: "/",
});

// Generate JSON-LD structured data for the home page
export const getJsonLd = () => generateJsonLd({
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://testero.ai/#webpage",
      "url": "https://testero.ai",
      "name": "PMLE Exam Prep | Pass Google ML Certification - Testero",
      "description": "Pass the PMLE exam with confidence. Updated for October 2024 changes. AI-powered practice questions, personalized study plans. Start free diagnostic.",
      "speakable": {
        "@type": "SpeakableSpecification",
        "cssSelector": ["h1", "h2", ".hero-text"]
      },
      "mainEntity": {
        "@type": "Product",
        "name": "Testero PMLE Exam Preparation Platform",
        "description": "AI-powered PMLE (Professional Machine Learning Engineer) certification exam preparation with October 2024 updates",
        "brand": {
          "@type": "Brand",
          "name": "Testero"
        },
        "offers": {
          "@type": "Offer",
          "availability": "https://schema.org/InStock",
          "price": "39",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is Testero's PMLE exam prep?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Testero is an AI-powered PMLE exam preparation platform with 200+ realistic practice questions updated for October 2024 exam changes. We offer a 7-day money-back guarantee - try Testero risk-free or get your money back."
          }
        },
        {
          "@type": "Question",
          "name": "Why is the PMLE exam so difficult?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The PMLE exam has a 70% fail rate because it tests deep ML knowledge across TensorFlow, Vertex AI, BigQuery ML, and MLOps. Google updated 30% of topics in October 2024, making outdated study materials dangerous. Most people waste $200 on failed attempts."
          }
        },
        {
          "@type": "Question",
          "name": "How does Testero guarantee PMLE success?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Our AI-powered system provides 200+ realistic PMLE-specific questions updated for October 2024 changes. Take our free diagnostic to see your exact readiness level, get personalized practice recommendations, and accelerate your preparation - or get your money back within 7 days."
          }
        },
        {
          "@type": "Question",
          "name": "What's included in Testero's PMLE prep?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The PMLE Readiness plan includes: unlimited PMLE practice questions, detailed explanations, free diagnostic test, personalized study plan, October 2024 exam updates, progress tracking, and our 7-day money-back guarantee. Plan starts at $39/month."
          }
        }
      ]
    }
  ]
});
````

## File: lib/copy/message-house.ts
````typescript
/**
 * Testero 2026 Message House & Copy Constants
 * 
 * Single source of truth for all marketing and product copy.
 * Aligned to: PMLE-first, readiness-first, balanced claims posture.
 * 
 * Last Updated: 2025-12-11
 */

/**
 * Core positioning statement (one-liner)
 */
export const CORE_POSITIONING = {
  headline: "Know your PMLE readiness—before you pay $200 to find out.",
  subheadline: "Take a fast diagnostic to see your readiness score and the exact domains to prioritize. Upgrade when you want explanations and unlimited targeted practice.",
};

/**
 * Three core value pillars
 */
export const VALUE_PILLARS = {
  readiness: {
    title: "Know Your Exact Readiness",
    description: "Get a clear readiness signal before you schedule—so you know whether to book now or focus your study time first.",
    icon: "Target",
  },
  blueprint: {
    title: "Aligned to the Current PMLE Blueprint",
    description: "Practice with exam-style questions mapped to the blueprint—so your time goes to the topics that actually show up.",
    icon: "FileText",
  },
  explanations: {
    title: "Explanations That Teach",
    description: "Step-by-step explanations that help you understand concepts deeply, not just memorize answers.",
    icon: "BookOpen",
  },
};

/**
 * Approved vocabulary (use consistently across all surfaces)
 */
export const VOCABULARY = {
  diagnostic: "diagnostic" as const, // Never "test" or "exam" for the free entry
  readinessScore: "readiness score" as const,
  domainBreakdown: "domain breakdown" as const,
  explanations: "explanations" as const, // Paid feature
  targetedPractice: "targeted practice" as const, // Paid feature
  unlimitedPractice: "unlimited practice" as const, // Paid feature
  pmle: "PMLE" as const, // Always uppercase
  examFee: "$200" as const, // Standardized exam fee anchor
};

/**
 * CTA hierarchy (primary vs secondary)
 */
export const CTAS = {
  primary: {
    diagnostic: "Start free diagnostic",
    signup: "Sign up free",
    upgrade: "Upgrade to PMLE Readiness",
  },
  secondary: {
    viewPricing: "See pricing",
    viewExamples: "See example questions",
    maybeLater: "Maybe later",
  },
};

/**
 * Free vs Paid boundaries (must match entitlements)
 */
export const FREE_FEATURES = {
  diagnostic: "1 diagnostic per exam (PMLE)",
  basicSummary: "Basic readiness summary (score + domain breakdown)",
  limitedPractice: "Limited practice quota (5 questions/week)",
  noExplanations: true, // Explicitly no explanations
} as const;

export const PAID_FEATURES = {
  explanations: "Detailed explanations for every answer",
  unlimitedPractice: "Unlimited practice within PMLE",
  diagnosticRetakes: "Diagnostic retakes",
  readinessHistory: "Readiness history and progress tracking",
  domainTargeted: "Domain-targeted practice loops",
} as const;

/**
 * Claim register: Numeric claims, guarantees, SLAs
 * Each claim maps to: source, where used, qualification needed
 */
export interface Claim {
  claim: string;
  source: "provable" | "needs-qualifier" | "remove" | "blog-only";
  qualification?: string; // Required qualifier text if source is "needs-qualifier"
  usedIn: string[]; // File paths where this claim appears
}

export const CLAIM_REGISTER: Claim[] = [
  {
    claim: "14 days update SLA",
    source: "needs-qualifier",
    qualification: "Questions are designed to align with the current blueprint and are updated as the exam evolves.",
    usedIn: ["app/page.tsx", "components/marketing/sections/benefits-section.tsx"],
  },
  {
    claim: "85% pass rate",
    source: "remove",
    usedIn: ["components/marketing/sections/enhanced-social-proof.tsx", "components/marketing/sections/benefits-section.tsx"],
  },
  {
    claim: "70% fail rate",
    source: "blog-only",
    usedIn: ["app/page.tsx"],
  },
  {
    claim: "40+ hours saved",
    source: "remove",
    usedIn: ["components/marketing/sections/enhanced-social-proof.tsx", "components/marketing/sections/benefits-section.tsx"],
  },
  {
    claim: "Pass PMLE in 30 Days—Guaranteed",
    source: "remove",
    usedIn: ["app/page.tsx"],
  },
  {
    claim: "7-day money-back guarantee",
    source: "provable",
    usedIn: ["app/page.tsx", "app/pricing/page.tsx", "lib/pricing/constants.ts"],
  },
  {
    claim: "Free forever",
    source: "needs-qualifier",
    qualification: "Free diagnostic and limited practice. Explanations and unlimited practice require a subscription.",
    usedIn: ["components/marketing/sections/final-cta-section.tsx", "components/marketing/sections/benefits-section.tsx"],
  },
  {
    claim: "$200 exam fee",
    source: "provable",
    usedIn: ["app/page.tsx", "lib/pricing/constants.ts"],
  },
  {
    claim: "October 2024 exam updated",
    source: "needs-qualifier",
    qualification: "Aligned to October 2024 blueprint changes.",
    usedIn: ["app/page.tsx", "app/diagnostic/page.tsx"],
  },
];

/**
 * Scope claims (PMLE-only vs multi-cloud)
 */
export const SCOPE_CLAIMS = {
  pmleOnly: {
    primary: "PMLE-focused",
    description: "Everything you need for PMLE readiness—without wasted study time.",
  },
  multiCloud: {
    // Remove until actually supported
    description: "Supporting Google Cloud, AWS, and Azure certifications",
    status: "remove" as const,
  },
};

/**
 * Trust signals (provable, no qualifiers needed)
 */
export const TRUST_SIGNALS = [
  "PMLE-focused",
  "Diagnostic-first",
  "Blueprint-aligned",
  "Cancel anytime",
];

/**
 * Microcopy patterns
 */
export const MICROCOPY = {
  diagnosticTime: "5–10 minutes",
  noCreditCard: "No credit card required",
  instantResults: "Results instantly",
  cancelAnytime: "Cancel anytime",
  moneyBackGuarantee: "7-day money-back guarantee",
};

/**
 * Error/empty states
 */
export const EMPTY_STATES = {
  noDiagnostic: "Take your first diagnostic to see your readiness score.",
  noPractice: "Start practicing to track your progress.",
  noResults: "Complete a diagnostic to see your results.",
};

/**
 * Helper: Get qualified claim text
 */
export function getQualifiedClaim(claimText: string): string {
  const claim = CLAIM_REGISTER.find((c) => claimText.includes(c.claim));
  if (!claim || claim.source !== "needs-qualifier") {
    return claimText;
  }
  return `${claimText} ${claim.qualification || ""}`;
}

/**
 * Helper: Check if claim should be removed
 */
export function shouldRemoveClaim(claimText: string): boolean {
  const claim = CLAIM_REGISTER.find((c) => claimText.includes(c.claim));
  return claim?.source === "remove";
}
````

## File: HERO_IMPLEMENTATION_REQUEST.md
````markdown
# Implementation Request: Testero Hero Section (Homepage)

*Reference: final hero mock image*

This request describes the implementation of the new Testero hero section. The goal is to match the design **pixel-close** while keeping the code clean, responsive, and ready for future iteration.

---

## 1. Overview

Implement the **homepage hero section** exactly as shown in the attached mock.

**Primary Goals:**
- Communicate value above the fold
- Strong diagnostic-first CTA
- Clean, professional aesthetic
- Responsive layout that preserves design intent
- Reusable components for future sections

**Business Context:**
- This is a **diagnostic-first** conversion tool
- Primary CTA should drive users to `/diagnostic`
- Secondary CTA can link to example questions or pricing
- Measure conversion rate: diagnostic starts from hero CTA

---

## 2. Component Architecture

### File Structure

Create the hero section as a standalone component following our marketing component patterns:

```
components/marketing/sections/
└── hero-section.tsx          # Main hero component
```

### Component Pattern

Follow the same pattern as `benefits-section.tsx`:
- TypeScript with explicit prop interfaces
- Tailwind CSS utility classes only (no inline styles)
- Export component and any related types
- Use existing Button component from `@/components/ui/button`
- Use existing design tokens where applicable

### Integration Point

Replace the current `LampContainer` hero in `app/page.tsx` (lines 84-167) with the new `<HeroSection />` component.

---

## 3. Layout Requirements

### Structure

- **Two-column layout:**
  - **Left column:** text content, CTAs, microcopy
  - **Right column:** layered product mock cards
- Constrain hero container to `max-w-7xl` (matches our existing pattern)
- Center content horizontally with `mx-auto`
- Top padding: `pt-24` (96px) - use Tailwind spacing tokens
- Horizontal gap between columns: `gap-12` to `gap-16` (48-64px)
- Vertical spacing: Use Tailwind spacing scale (`space-y-4`, `space-y-6`, etc.)

### Responsiveness

- **Desktop (≥1024px):** Two-column layout with `grid-cols-2`, layered cards on right
- **Tablet (768-1023px):** Stack vertically with `flex-col`, mock centered under text
- **Mobile (≤767px):**
  - Text center-aligned with `text-center`
  - Product mock becomes single centered image
  - CTAs stacked vertically with `flex-col gap-4`
  - Spacing tightened but not collapsed

---

## 4. Typography

Use **Inter** font family (already configured in the project).

### Sizes & Weights

- **Eyebrow label:** `text-xs` or `text-sm`, `font-medium`, `tracking-wide`
- **H1:** `text-4xl md:text-5xl lg:text-6xl`, `font-bold` (700), `leading-tight`
- **Body text:** `text-base md:text-lg`, `font-normal` (400) or `font-medium` (500)
- **CTA button:** `font-semibold` (600)
- **Microcopy:** `text-sm`, `text-muted-foreground`

### Colors (Use Design Tokens)

- **Heavy text:** `text-foreground` or `text-slate-900`
- **Secondary text:** `text-muted-foreground` or `text-slate-600`
- **Microcopy:** `text-slate-500` or `text-muted-foreground`

---

## 5. Content (Literal Text)

**Do not alter text without checking back with us.**

### Eyebrow:
```
AI-POWERED CERTIFICATION READINESS
```

### Headline:
```
Know if you're ready before you book your exam.
```

### Subheadline:
```
Testero uses realistic, blueprint-aligned questions to benchmark your readiness and show exactly where to focus.
```

### Primary CTA:
```
Start free readiness check
```

### Secondary CTA (text link):
```
View example questions
```

### Microcopy:
```
Takes 5–7 minutes · No credit card required
```

---

## 6. CTA Button Requirements

### Primary CTA Button

Use our existing `Button` component from `@/components/ui/button`:

```tsx
<Button
  asChild
  size="lg"
  tone="accent"
  variant="solid"
  className="w-full sm:w-auto"
>
  <Link href="/diagnostic">Start free readiness check</Link>
</Button>
```

**Styling:**
- Size: `lg` (already configured in Button component)
- Tone: `accent` (uses our design system blue gradient)
- Hover: Handled by Button component (slightly darker, soft elevation)
- Active: Handled by Button component
- Rounded corners: Already configured in Button (8-12px)
- Full width on mobile: `w-full sm:w-auto`

### Secondary CTA

Use a simple text link with hover underline:

```tsx
<Link
  href="/practice"
  className="text-blue-600 hover:text-blue-700 hover:underline font-semibold"
>
  View example questions
</Link>
```

---

## 7. Product Mock Implementation

We **do not** need real components; these can be static assets or lightweight markup.

### Requirements

#### A. Readiness Dashboard Card

- Card container: `rounded-xl` or `rounded-2xl` (12-16px)
- Border: `border border-slate-200` or `border-slate-300`
- Shadow: `shadow-lg` or `shadow-xl`
- Background: `bg-white`
- Elements included:
  - Circular readiness score (78%) - use SVG or CSS
  - Domain Breakdown list - simple list with Tailwind styling
  - Light-blue highlight on one selected domain - `bg-blue-50` or `bg-blue-100`

Use vector-based assets (SVG) if possible for crisp scaling.

#### B. Example Question Card

- Slight overlap with dashboard card using `absolute` positioning
- Z-index: `z-10` above dashboard (`z-0`)
- Checkbox styles: Use Tailwind checkbox utilities or custom styled checkboxes
- "Explanation" button: Use our Button component with `variant="outline"` and `tone="neutral"`

### Layering / Positioning

- Implement via `relative` container on right column
- Use `absolute` positioning for overlapping cards
- Maintain responsiveness:
  - On tablet: Cards reduce size proportionally
  - On mobile: Cards collapse into one centered static image or simplified layout

---

## 8. Background & Section Styling

### Background

- Very light neutral: `bg-slate-50` or `bg-white`
- Right-side subtle background block: Use CSS with `bg-slate-100` or `bg-slate-200`
- Rounded corner: `rounded-l-3xl` or similar on one side
- Position: Absolute positioned behind product mock

### Implementation

Use Tailwind classes only:
```tsx
<section className="w-full bg-slate-50 py-24">
  {/* Content */}
</section>
```

---

## 9. Navigation Alignment

Ensure nav bar matches mock styling:

- Right-side "Start Free" button: Use Button with `variant="outline"` and `tone="accent"`
- Slightly rounded borders: Already handled by Button component
- Text color: Primary blue (handled by `tone="accent"`)
- Hover: Soft background tint (handled by Button component)

Nav should sit on transparent or very light background (already implemented in `navbar.tsx`).

---

## 10. Accessibility Requirements

- All buttons must be keyboard accessible (handled by Button component)
- Text-to-background contrast ratio ≥ 4.5:1 (verify with Tailwind color tokens)
- Add alt text for product mock region:
  ```tsx
  <div role="img" aria-label="Readiness dashboard and example exam question preview showing Testero's question format.">
    {/* Product mock */}
  </div>
  ```
- Semantic HTML: Use `<section>`, `<h1>`, `<p>` tags appropriately
- ARIA labels on CTAs: Already handled by Button component with `aria-label` prop

---

## 11. Performance Requirements

- Avoid large PNG screenshots; use SVGs or WebP if possible
- Lazy-load mock images if using `<Image>` component from Next.js
- Minimize layout shift: Reserve image space with `aspect-ratio` utilities
- Use Next.js `Image` component if using actual images (optimization built-in)

---

## 12. Code Implementation Notes

### Component Structure

```tsx
"use client";

import Link from "next/link";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

interface HeroSectionProps {
  // Add props if needed for future flexibility
}

export const HeroSection: React.FC<HeroSectionProps> = () => {
  return (
    <section className="w-full bg-slate-50 py-24">
      <div className="max-w-7xl mx-auto px-4 sm:px-6">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-start">
          {/* Left column: Text content */}
          <div className="space-y-6">
            {/* Eyebrow, Headline, Subheadline, CTAs, Microcopy */}
          </div>
          
          {/* Right column: Product mock */}
          <div className="relative">
            {/* Layered cards */}
          </div>
        </div>
      </div>
    </section>
  );
};
```

### Text Content Management

All text should live in a config object for easy marketing updates:

```tsx
const heroContent = {
  eyebrow: "AI-POWERED CERTIFICATION READINESS",
  headline: "Know if you're ready before you book your exam.",
  subheadline: "Testero uses realistic, blueprint-aligned questions to benchmark your readiness and show exactly where to focus.",
  primaryCta: {
    text: "Start free readiness check",
    href: "/diagnostic",
  },
  secondaryCta: {
    text: "View example questions",
    href: "/practice",
  },
  microcopy: "Takes 5–7 minutes · No credit card required",
};
```

### Product Mock Cards

If creating as components (not images), structure them as:

```tsx
// components/marketing/sections/hero-section.tsx

const ReadinessDashboardCard = () => (
  <div className="rounded-xl border border-slate-200 bg-white p-6 shadow-lg">
    {/* Dashboard content */}
  </div>
);

const ExampleQuestionCard = () => (
  <div className="absolute top-8 left-8 rounded-xl border border-slate-200 bg-white p-6 shadow-xl z-10">
    {/* Question content */}
  </div>
);
```

---

## 13. Acceptance Criteria

- [ ] Desktop view matches design within reasonable pixel tolerance
- [ ] Text hierarchy & contrast match design
- [ ] CTA button states implemented (using our Button component)
- [ ] Right-side mock layered exactly as in reference
- [ ] Fully responsive down to 320px wide
- [ ] No layout shift above 50ms (use `aspect-ratio` utilities)
- [ ] Accessible (labels, alt text, tab order, contrast)
- [ ] Hero loads in under ~100ms on average connection
- [ ] Uses only Tailwind utility classes (no inline styles)
- [ ] Follows our component architecture patterns
- [ ] Integrates cleanly with existing `app/page.tsx`

---

## 14. Optional Enhancements (If Easy)

Only implement if trivial (< 30 minutes):

- Add subtle hover animation to product cards: `hover:-translate-y-1 transition-transform`
- Reduce opacity of right-side background block on scroll (requires intersection observer)
- Add fade-in on initial load: Use `animate-fade-in` if we have it, or simple opacity transition

**Note:** These are optional. Ship the core implementation first, measure conversion, then iterate.

---

## 15. Testing Checklist

Before marking complete:

- [ ] Test on Chrome, Firefox, Safari (webkit)
- [ ] Test responsive breakpoints: 320px, 768px, 1024px, 1280px
- [ ] Verify CTA links work correctly
- [ ] Check keyboard navigation (Tab through all interactive elements)
- [ ] Verify contrast ratios meet WCAG AA standards
- [ ] Test with browser zoom at 200%
- [ ] Verify no console errors
- [ ] Check Lighthouse score (aim for 90+ Performance)

---

## 16. Integration with Analytics

Add PostHog tracking to primary CTA:

```tsx
import { usePostHog } from "posthog-js/react";
import { trackEvent, ANALYTICS_EVENTS } from "@/lib/analytics/analytics";

const posthog = usePostHog();

<Button
  asChild
  onClick={() => {
    trackEvent(posthog, ANALYTICS_EVENTS.DIAGNOSTIC_STARTED, {
      source: "hero_cta",
      referrer: "homepage",
    });
  }}
>
  <Link href="/diagnostic">Start free readiness check</Link>
</Button>
```

---

## 17. Design Token Reference

Use existing design tokens from `lib/design-system` where applicable:

- Colors: `@/lib/design-system/tokens/colors`
- Spacing: `@/lib/design-system/tokens/spacing`
- Typography: `@/lib/design-system/tokens/typography`
- Effects: `@/lib/design-system/tokens/effects`

If a token doesn't exist, use Tailwind's default scale and note it for future design system expansion.

---

## Questions or Clarifications?

If anything is unclear:
1. Check existing marketing components for patterns
2. Reference `components/marketing/sections/benefits-section.tsx` for structure
3. Use `components/ui/button.tsx` as reference for button implementation
4. Follow Tailwind-first approach - no custom CSS unless absolutely necessary

**Priority:** High - This is the primary conversion point on the homepage.

**ICE Score Estimate:** Impact(8) × Confidence(9) × Effort(3) = **216** ✅ Build immediately
````

## File: components/pricing/ComparisonTable.tsx
````typescript
"use client";

import React from "react";
import { Check, X } from "lucide-react";
import { cn } from "@/lib/utils";

interface Feature {
  name: string;
  basic: string | boolean;
  pro?: string | boolean;
  allAccess?: string | boolean;
}

interface FeatureCategory {
  category: string;
  features: Feature[];
}

interface ComparisonTableProps {
  categories: FeatureCategory[];
  onSelectPlan?: (planId: string) => void;
}

export function ComparisonTable({ categories, onSelectPlan }: ComparisonTableProps) {
  const renderFeatureValue = (value: string | boolean) => {
    if (typeof value === "boolean") {
      return value ? (
        <Check className="h-5 w-5 text-green-500 mx-auto" />
      ) : (
        <X className="h-5 w-5 text-gray-300 mx-auto" />
      );
    }
    return <span className="text-sm text-gray-900">{value}</span>;
  };

  return (
    <div className="overflow-hidden rounded-xl border border-gray-200 bg-white shadow-lg">
      {/* Desktop Table */}
      <div className="hidden lg:block">
        <table className="w-full">
          <thead>
            <tr className="border-b border-gray-200 bg-gray-50">
              <th className="px-6 py-4 text-left text-sm font-semibold text-gray-900">Features</th>
              <th className="px-6 py-4 text-center">
                <div className="space-y-1">
                  <div className="text-lg font-bold text-gray-900">PMLE Readiness</div>
                  <div className="text-sm text-gray-600">$39/month</div>
                  {onSelectPlan && (
                    <button
                      onClick={() => onSelectPlan("basic")}
                      className="mt-2 rounded-md bg-blue-600 px-4 py-1.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors"
                    >
                      Start Preparing
                    </button>
                  )}
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            {categories.map((category) => (
              <React.Fragment key={category.category}>
                <tr className="border-t-2 border-gray-200">
                  <td
                    colSpan={2}
                    className="bg-gray-50 px-6 py-3 text-sm font-semibold text-gray-900"
                  >
                    {category.category}
                  </td>
                </tr>
                {category.features.map((feature, featureIndex) => (
                  <tr
                    key={feature.name}
                    className={cn(
                      "border-t border-gray-100",
                      featureIndex % 2 === 0 ? "bg-white" : "bg-gray-50/50"
                    )}
                  >
                    <td className="px-6 py-4 text-sm text-gray-700">{feature.name}</td>
                    <td className="px-6 py-4 text-center">{renderFeatureValue(feature.basic)}</td>
                  </tr>
                ))}
              </React.Fragment>
            ))}
          </tbody>
        </table>
      </div>

      {/* Mobile Cards */}
      <div className="lg:hidden">
        <div className="border-b border-gray-200 bg-gray-50 p-4">
          <h3 className="text-lg font-semibold text-gray-900">Feature Comparison</h3>
        </div>
        <div className="divide-y divide-gray-200">
          {categories.map((category) => (
            <div key={category.category} className="p-4">
              <h4 className="mb-4 text-sm font-semibold text-gray-900">{category.category}</h4>
              {category.features.map((feature) => (
                <div key={feature.name} className="mb-4 last:mb-0">
                  <div className="mb-2 text-sm font-medium text-gray-700">{feature.name}</div>
                  <div className="rounded-lg bg-blue-50 p-3 text-center">
                    <div className="text-xs font-medium text-blue-600 mb-1">PMLE Readiness</div>
                    {renderFeatureValue(feature.basic)}
                  </div>
                </div>
              ))}
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}
````

## File: components/marketing/sections/benefits-section.tsx
````typescript
"use client";

import React, { useState } from 'react';
import Link from 'next/link';
import { cn } from '@/lib/utils';
import { duration, easing } from '@/lib/design-system';
import { Button } from '@/components/ui/button';
import { FileText, Sparkles, BarChart3, Cloud } from 'lucide-react';
import { SCOPE_CLAIMS, VALUE_PILLARS } from "@/lib/copy/message-house";

type BenefitTone = 'accent' | 'success' | 'info' | 'primary';

const toneStyles: Record<BenefitTone, { icon: string; highlight: string }> = {
  accent: {
    icon: 'bg-[color:var(--tone-accent-surface)] text-[color:var(--tone-accent)]',
    highlight: 'text-[color:var(--tone-accent)]',
  },
  success: {
    icon: 'bg-[color:var(--tone-success-surface)] text-[color:var(--tone-success)]',
    highlight: 'text-[color:var(--tone-success)]',
  },
  info: {
    icon: 'bg-[color:var(--tone-info-surface)] text-[color:var(--tone-info)]',
    highlight: 'text-[color:var(--tone-info)]',
  },
  primary: {
    icon: 'bg-[color:var(--surface-muted)] text-foreground',
    highlight: 'text-foreground',
  },
};

interface BenefitCardProps {
  icon: React.ReactNode;
  title: string;
  description: string;
  highlight?: string;
  tone: BenefitTone;
  delay?: number;
}

const BenefitCard: React.FC<BenefitCardProps> = ({
  icon,
  title,
  description,
  highlight,
  tone,
  delay = 0
}) => {
  const [isHovered, setIsHovered] = useState(false);
  const toneClass = toneStyles[tone];

  // Replace highlight text with styled version if provided
  const processedDescription = highlight ? (
    <>
      {description.split(highlight).map((part, index, array) => (
        <React.Fragment key={index}>
          {part}
          {index < array.length - 1 && (
            <span className={cn('font-semibold', toneClass.highlight)}>
              {highlight}
            </span>
          )}
        </React.Fragment>
      ))}
    </>
  ) : (
    description
  );

  return (
    <article
      className={cn(
        'rounded-xl border border-[color:var(--divider-color)] bg-[color:var(--surface-elevated)] p-4 md:p-6 shadow-md',
        'transform transition-all duration-300',
        'hover:-translate-y-1 hover:shadow-lg'
      )}
      style={{
        animationDelay: `${delay}ms`,
        animationFillMode: 'both',
        animation: `fadeInUp ${duration.slow}ms ${easing.spring} forwards`,
        opacity: 0,
        transform: 'translateY(20px)'
      }}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div className="flex items-start space-x-4">
        <div
          className={cn(
            'p-3 rounded-lg transition-transform',
            isHovered ? 'scale-110' : 'scale-100',
            toneClass.icon
          )}
          aria-hidden="true"
        >
          <div className="transition-all">{icon}</div>
        </div>
        <div className="flex-1">
          <h3 className={cn(
            'mb-2 text-lg font-semibold text-foreground transition-all',
            isHovered && toneClass.highlight
          )}>
            {title}
          </h3>
          <p className="text-muted-foreground">{processedDescription}</p>
        </div>
      </div>
    </article>
  );
};

// Animation keyframes
const fadeInUp = `
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
`;

const slideInFromSide = `
  @keyframes slideInFromSide {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`;

const pulse = `
  @keyframes pulse {
    0% {
      opacity: 0.2;
      transform: scale(1);
    }
    50% {
      opacity: 0.3;
      transform: scale(1.05);
    }
    100% {
      opacity: 0.2;
      transform: scale(1);
    }
  }
`;

// Skeleton loader component for the benefits section
export function BenefitsSectionSkeleton() {
  return (
    // eslint-disable-next-line no-restricted-syntax
    <section className="w-full py-10 sm:py-16 md:py-24 px-4 sm:px-6 relative">
      {/* Background element */}
      <div className="pointer-events-none absolute inset-0 overflow-hidden" aria-hidden="true">
        <div className="absolute right-[6%] top-1/4 -translate-y-1/2 h-52 w-52 rounded-full bg-[color:var(--tone-info-surface)] opacity-30 blur-2xl"></div>
        <div className="absolute left-[6%] bottom-1/4 translate-y-1/2 h-52 w-52 rounded-full bg-[color:var(--tone-accent-surface)] opacity-30 blur-2xl"></div>
      </div>

      <div className="max-w-4xl mx-auto text-center space-y-8 relative z-10">
        {/* Skeleton heading */}
        <div className="mx-auto h-12 w-3/4 animate-pulse rounded-lg bg-[color:var(--surface-muted)]"></div>

        {/* Skeleton paragraph */}
        <div className="mx-auto h-6 w-5/6 animate-pulse rounded-lg bg-[color:var(--surface-muted)]"></div>

        {/* Skeleton cards */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 pt-4">
          {[...Array(4)].map((_, index) => (
            <div key={index} className="animate-pulse rounded-xl border border-[color:var(--divider-color)] bg-[color:var(--surface-elevated)] p-4 md:p-6 shadow-md">
              <div className="flex items-start space-x-4">
                <div className="h-12 w-12 rounded-lg bg-[color:var(--surface-muted)] p-3"></div>
                <div className="flex-1">
                  <div className="mb-3 h-6 w-3/4 rounded bg-[color:var(--surface-muted)]"></div>
                  <div className="mb-2 h-4 w-full rounded bg-[color:var(--surface-muted)]"></div>
                  <div className="h-4 w-5/6 rounded bg-[color:var(--surface-muted)]"></div>
                </div>
              </div>
            </div>
          ))}
        </div>
        
        {/* Skeleton comparison */}
        <div className="mt-12 border-t border-[color:var(--divider-color)] pt-6 sm:mt-16 sm:pt-8">
          <div className="flex flex-col md:flex-row justify-center items-center gap-8">
            <div className="flex-1">
              <div className="mx-auto mb-4 h-6 w-1/2 rounded bg-[color:var(--surface-muted)] md:ml-auto md:mr-0"></div>
              <div className="space-y-2">
                {[...Array(3)].map((_, index) => (
                  <div key={index} className="mx-auto h-4 w-3/4 rounded bg-[color:var(--surface-muted)] md:ml-auto md:mr-0"></div>
                ))}
              </div>
            </div>

            <div className="hidden h-40 border-l border-[color:var(--divider-color)] md:block" aria-hidden="true"></div>

            <div className="flex-1">
              <div className="mx-auto mb-4 h-6 w-1/2 rounded bg-[color:var(--surface-muted)] md:ml-0 md:mr-auto"></div>
              <div className="space-y-2">
                {[...Array(3)].map((_, index) => (
                  <div key={index} className="mx-auto h-4 w-3/4 rounded bg-[color:var(--surface-muted)] md:ml-0 md:mr-auto"></div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
}

export function BenefitsSection() {
  return (
    // eslint-disable-next-line no-restricted-syntax
    <section className="w-full py-10 sm:py-16 md:py-24 px-4 sm:px-6 relative">
      {/* Add styles to head for animations */}
      <style jsx global>{`${fadeInUp} ${slideInFromSide} ${pulse}`}</style>

      {/* Background element */}
      <div className="pointer-events-none absolute inset-0 overflow-hidden" aria-hidden="true">
        <div
          className="absolute right-[6%] top-1/4 -translate-y-1/2 h-52 w-52 rounded-full bg-[color:var(--tone-info-surface)] opacity-30 blur-2xl"
          style={{
            animation: `pulse 15s ease-in-out infinite alternate`,
          }}
        ></div>
        <div
          className="absolute left-[6%] bottom-1/4 translate-y-1/2 h-52 w-52 rounded-full bg-[color:var(--tone-accent-surface)] opacity-30 blur-2xl"
          style={{
            animation: `pulse 18s ease-in-out infinite alternate-reverse`,
          }}
        ></div>
      </div>
      
      <div className="max-w-4xl mx-auto text-center space-y-8 relative z-10">
        <h2 
          id="benefits-heading"
          className="text-2xl font-bold text-foreground drop-shadow-sm opacity-0 sm:text-3xl md:text-5xl"
          style={{
            animation: `fadeInUp ${duration.slow}ms ${easing.spring} forwards`,
            animationDelay: `${duration.fast}ms`
          }}
        >
          {SCOPE_CLAIMS.pmleOnly.description}
        </h2>
        
        <p
          className="mx-auto max-w-3xl text-balance text-base text-muted-foreground opacity-0 sm:text-lg md:text-xl"
          style={{
            animation: `fadeInUp ${duration.slow}ms ${easing.spring} forwards`,
            animationDelay: `${duration.fast * 2}ms`
          }}
        >
          Start free with a diagnostic. Upgrade for explanations and unlimited targeted practice.
        </p>
        
        <div 
          className="grid grid-cols-1 md:grid-cols-2 gap-8 pt-4 text-left"
          role="list"
        >
          {/* Feature 1 - Blueprint Alignment */}
          <BenefitCard
            icon={<FileText className="w-6 h-6" />}
            title={VALUE_PILLARS.blueprint.title}
            description={VALUE_PILLARS.blueprint.description}
            tone="accent"
            delay={duration.fast * 3}
          />
          
          {/* Feature 2 - Readiness Clarity */}
          <BenefitCard
            icon={<Sparkles className="w-6 h-6" />}
            title={VALUE_PILLARS.readiness.title}
            description={VALUE_PILLARS.readiness.description}
            tone="success"
            delay={duration.fast * 4}
          />
          
          {/* Feature 3 - Targeted Practice */}
          <BenefitCard
            icon={<BarChart3 className="w-6 h-6" />}
            title="Focus on Your Weakest Domains"
            description="Practice questions automatically target your weakest areas based on your diagnostic results—so you spend time where it matters most."
            tone="info"
            delay={duration.fast * 5}
          />
          
          {/* Feature 4 - Explanations */}
          <BenefitCard
            icon={<Cloud className="w-6 h-6" />}
            title={VALUE_PILLARS.explanations.title}
            description={VALUE_PILLARS.explanations.description}
            tone="accent"
            delay={duration.fast * 6}
          />
        </div>
        
        {/* Feature availability and CTA */}
        <div
          className="mt-12 border-t border-[color:var(--divider-color)] pt-6 opacity-0 sm:mt-16 sm:pt-8"
          style={{
            animation: `fadeInUp ${duration.slow}ms ${easing.spring} forwards`,
            animationDelay: `${duration.fast * 7}ms`
          }}
        >
          <div className="text-center">
            <h3 className="mb-4 text-2xl font-bold text-foreground">Ready to Start Preparing?</h3>
            <p className="mx-auto mb-8 max-w-2xl text-lg text-muted-foreground">
              Join hundreds of cloud professionals already using Testero to accelerate their certification journey.
            </p>
            <div className="mx-auto flex max-w-lg flex-col justify-center gap-4 sm:flex-row">
              <Button asChild tone="accent" size="lg" className="text-lg">
                <Link href="/signup">Start Free Practice</Link>
              </Button>
              <Button asChild variant="outline" tone="accent" size="lg" className="text-lg">
                <Link href="/diagnostic">Take Diagnostic Test</Link>
              </Button>
            </div>
            <p className="mt-4 text-sm text-muted-foreground">Free diagnostic • No credit card • Instant access</p>
          </div>
        </div>
      </div>
    </section>
  );
}

// For backward compatibility
export default BenefitsSection;
````

## File: components/pricing/FreeVsPaidComparison.tsx
````typescript
"use client";

import React from "react";
import { Check, X } from "lucide-react";
import { cn } from "@/lib/utils";

interface ComparisonFeature {
  name: string;
  free: boolean;
  paid: boolean;
}

const COMPARISON_FEATURES: ComparisonFeature[] = [
  {
    name: "One PMLE diagnostic test",
    free: true,
    paid: true,
  },
  {
    name: "Basic readiness summary",
    free: true,
    paid: true,
  },
  {
    name: "Full PMLE question bank",
    free: false,
    paid: true,
  },
  {
    name: "Unlimited practice sessions",
    free: false,
    paid: true,
  },
  {
    name: "Limited practice (5 questions/week)",
    free: true,
    paid: false,
  },
  {
    name: "Detailed explanations for every answer",
    free: false,
    paid: true,
  },
  {
    name: "Domain-level readiness insights",
    free: false,
    paid: true,
  },
  {
    name: "Progress tracking",
    free: false,
    paid: true,
  },
  {
    name: "No explanations",
    free: true,
    paid: false,
  },
  {
    name: "No personalized plan",
    free: true,
    paid: false,
  },
];

export function FreeVsPaidComparison() {
  return (
    <div className="mx-auto max-w-4xl">
      <div className="text-center mb-8">
        <h2 className="text-2xl font-bold text-gray-900 dark:text-slate-100 mb-4">
          Free vs Paid: What&apos;s Included
        </h2>
        <p className="text-gray-600 dark:text-slate-300">
          See exactly what you get with free access versus a paid subscription
        </p>
      </div>

      {/* Desktop: Two-column layout */}
      <div className="hidden md:grid md:grid-cols-2 gap-6">
        {/* Free Column */}
        <div className="rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900">
          <div className="mb-6 text-center">
            <h3 className="text-xl font-semibold text-gray-900 dark:text-slate-100 mb-2">Free</h3>
            <p className="text-sm text-gray-600 dark:text-slate-300">No subscription required</p>
          </div>
          <ul className="space-y-4">
            {COMPARISON_FEATURES.map((feature) => (
              <li
                key={feature.name}
                className="flex items-start gap-3 text-sm"
              >
                {feature.free ? (
                  <Check className="mt-0.5 h-5 w-5 flex-shrink-0 text-green-500" aria-hidden="true" />
                ) : (
                  <X className="mt-0.5 h-5 w-5 flex-shrink-0 text-gray-300 dark:text-slate-600" aria-hidden="true" />
                )}
                <span
                  className={cn(
                    "flex-1",
                    feature.free
                      ? "text-gray-900 dark:text-slate-100"
                      : "text-gray-400 dark:text-slate-500 line-through"
                  )}
                >
                  {feature.name}
                </span>
              </li>
            ))}
          </ul>
        </div>

        {/* Paid Column */}
        <div className="rounded-lg border-2 border-blue-600 bg-white p-6 shadow-lg dark:bg-slate-900 dark:border-blue-500">
          <div className="mb-6 text-center">
            <h3 className="text-xl font-semibold text-gray-900 dark:text-slate-100 mb-2">
              PMLE Prep (Paid)
            </h3>
            <p className="text-sm text-gray-600 dark:text-slate-300">Full access with subscription</p>
          </div>
          <ul className="space-y-4">
            {COMPARISON_FEATURES.map((feature) => (
              <li
                key={feature.name}
                className="flex items-start gap-3 text-sm"
              >
                {feature.paid ? (
                  <Check className="mt-0.5 h-5 w-5 flex-shrink-0 text-green-500" aria-hidden="true" />
                ) : (
                  <X className="mt-0.5 h-5 w-5 flex-shrink-0 text-gray-300 dark:text-slate-600" aria-hidden="true" />
                )}
                <span
                  className={cn(
                    "flex-1",
                    feature.paid
                      ? "text-gray-900 dark:text-slate-100"
                      : "text-gray-400 dark:text-slate-500 line-through"
                  )}
                >
                  {feature.name}
                </span>
              </li>
            ))}
          </ul>
        </div>
      </div>

      {/* Mobile: Stacked cards */}
      <div className="md:hidden space-y-6">
        {/* Free Card */}
        <div className="rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900">
          <div className="mb-6 text-center">
            <h3 className="text-xl font-semibold text-gray-900 dark:text-slate-100 mb-2">Free</h3>
            <p className="text-sm text-gray-600 dark:text-slate-300">No subscription required</p>
          </div>
          <ul className="space-y-4">
            {COMPARISON_FEATURES.map((feature) => (
              <li
                key={feature.name}
                className="flex items-start gap-3 text-sm"
              >
                {feature.free ? (
                  <Check className="mt-0.5 h-5 w-5 flex-shrink-0 text-green-500" aria-hidden="true" />
                ) : (
                  <X className="mt-0.5 h-5 w-5 flex-shrink-0 text-gray-300 dark:text-slate-600" aria-hidden="true" />
                )}
                <span
                  className={cn(
                    "flex-1",
                    feature.free
                      ? "text-gray-900 dark:text-slate-100"
                      : "text-gray-400 dark:text-slate-500 line-through"
                  )}
                >
                  {feature.name}
                </span>
              </li>
            ))}
          </ul>
        </div>

        {/* Paid Card */}
        <div className="rounded-lg border-2 border-blue-600 bg-white p-6 shadow-lg dark:bg-slate-900 dark:border-blue-500">
          <div className="mb-6 text-center">
            <h3 className="text-xl font-semibold text-gray-900 dark:text-slate-100 mb-2">
              PMLE Prep (Paid)
            </h3>
            <p className="text-sm text-gray-600 dark:text-slate-300">Full access with subscription</p>
          </div>
          <ul className="space-y-4">
            {COMPARISON_FEATURES.map((feature) => (
              <li
                key={feature.name}
                className="flex items-start gap-3 text-sm"
              >
                {feature.paid ? (
                  <Check className="mt-0.5 h-5 w-5 flex-shrink-0 text-green-500" aria-hidden="true" />
                ) : (
                  <X className="mt-0.5 h-5 w-5 flex-shrink-0 text-gray-300 dark:text-slate-600" aria-hidden="true" />
                )}
                <span
                  className={cn(
                    "flex-1",
                    feature.paid
                      ? "text-gray-900 dark:text-slate-100"
                      : "text-gray-400 dark:text-slate-500 line-through"
                  )}
                >
                  {feature.name}
                </span>
              </li>
            ))}
          </ul>
        </div>
      </div>
    </div>
  );
}
````

## File: components/marketing/sections/hero-section.tsx
````typescript
"use client";

import React from "react";
import Link from "next/link";
import { usePostHog } from "posthog-js/react";
import { trackEvent, ANALYTICS_EVENTS } from "@/lib/analytics/analytics";
import { Button } from "@/components/ui/button";

// eslint-disable-next-line @typescript-eslint/no-empty-object-type
interface HeroSectionProps {
  // Add props if needed for future flexibility
}

import { CORE_POSITIONING, CTAS, MICROCOPY } from "@/lib/copy/message-house";

const heroContent = {
  eyebrow: "GOOGLE CLOUD PMLE READINESS",
  headline: CORE_POSITIONING.headline,
  subheadline: CORE_POSITIONING.subheadline,
  primaryCta: {
    text: CTAS.primary.diagnostic,
    href: "/diagnostic",
  },
  secondaryCta: {
    text: CTAS.secondary.viewExamples,
    href: "/practice",
  },
  microcopy: `${MICROCOPY.diagnosticTime} · ${MICROCOPY.noCreditCard} · ${MICROCOPY.instantResults}`,
};

// Readiness Dashboard Card Component
const ReadinessDashboardCard: React.FC = () => {
  return (
    <div className="rounded-xl lg:rounded-2xl border border-black/[0.06] lg:border-black/[0.08] bg-white p-4 sm:p-6 lg:p-8 shadow-md">
      <h3 className="text-lg font-medium text-slate-800 mb-4">Readiness Dashboard</h3>
      
      {/* Circular Progress Indicator */}
      <div className="flex items-center justify-center mb-6">
        <div className="relative w-32 h-32">
          <svg className="w-32 h-32 transform -rotate-90" viewBox="0 0 100 100">
            {/* Background circle */}
            <circle
              cx="50"
              cy="50"
              r="45"
              fill="none"
              stroke="currentColor"
              strokeWidth="8"
              className="text-slate-200"
            />
            {/* Progress circle (78%) */}
            <circle
              cx="50"
              cy="50"
              r="45"
              fill="none"
              stroke="currentColor"
              strokeWidth="8"
              strokeDasharray={`${2 * Math.PI * 45}`}
              strokeDashoffset={`${2 * Math.PI * 45 * (1 - 0.78)}`}
              strokeLinecap="round"
              className="text-blue-600"
            />
          </svg>
          <div className="absolute inset-0 flex items-center justify-center">
            <div className="text-center">
              <div className="text-2xl font-bold text-slate-800">78%</div>
              <div className="text-xs text-slate-500">Score</div>
            </div>
          </div>
        </div>
      </div>

      {/* Domain Breakdown */}
      <div>
        <h4 className="text-sm font-medium text-slate-800 mb-3">Domain Breakdown</h4>
        <div className="space-y-2">
          <div className="flex items-center justify-between p-2 rounded-md bg-blue-50">
            <span className="text-sm text-slate-700">Domain Content</span>
            <div className="flex items-center gap-2">
              <div className="w-16 h-2 bg-slate-200 rounded-full overflow-hidden">
                <div className="w-3/4 h-full bg-blue-600 rounded-full" />
              </div>
            </div>
          </div>
          <div className="flex items-center justify-between p-2 rounded-md">
            <span className="text-sm text-slate-700">Domain Developer</span>
            <div className="flex items-center gap-2">
              <div className="w-16 h-2 bg-slate-200 rounded-full overflow-hidden">
                <div className="w-1/2 h-full bg-slate-400 rounded-full" />
              </div>
            </div>
          </div>
          <div className="flex items-center justify-between p-2 rounded-md">
            <span className="text-sm text-slate-700">Domain Law</span>
            <div className="flex items-center gap-2">
              <div className="w-16 h-2 bg-slate-200 rounded-full overflow-hidden">
                <div className="w-4/5 h-full bg-slate-400 rounded-full" />
              </div>
            </div>
          </div>
          <div className="flex items-center justify-between p-2 rounded-md">
            <span className="text-sm text-slate-700">Domain Solutions</span>
            <div className="flex items-center gap-2">
              <div className="w-16 h-2 bg-slate-200 rounded-full overflow-hidden">
                <div className="w-2/3 h-full bg-slate-400 rounded-full" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// Example Question Card Component
const ExampleQuestionCard: React.FC = () => {
  return (
    <div className="rounded-xl lg:rounded-2xl border border-black/[0.06] lg:border-black/[0.08] bg-white p-4 sm:p-6 lg:p-8 shadow-lg w-full max-w-sm lg:max-w-sm">
      <h3 className="text-lg font-medium text-slate-800 mb-4">Example Question</h3>
      
      {/* Scenario Prompt */}
      <div className="mb-4">
        <p className="text-sm text-slate-600 leading-relaxed">
          You are building a machine learning model to predict customer churn. You have a dataset with
          10,000 samples and 50 features. Which approach would be most appropriate for feature selection?
        </p>
      </div>

      {/* Checkbox Options */}
      <div className="space-y-3 mb-4">
        <label className="flex items-start gap-3 cursor-pointer group">
          <input
            type="checkbox"
            checked
            readOnly
            className="mt-1 w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-2"
          />
          <span className="text-sm text-slate-700 group-hover:text-slate-900">
            Use Principal Component Analysis (PCA) to reduce dimensionality
          </span>
        </label>
        <label className="flex items-start gap-3 cursor-pointer group">
          <input
            type="checkbox"
            readOnly
            className="mt-1 w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-2"
          />
          <span className="text-sm text-slate-700 group-hover:text-slate-900">
            Use recursive feature elimination with cross-validation
          </span>
        </label>
        <label className="flex items-start gap-3 cursor-pointer group">
          <input
            type="checkbox"
            readOnly
            className="mt-1 w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-2"
          />
          <span className="text-sm text-slate-700 group-hover:text-slate-900">
            Use all features and let the model learn automatically
          </span>
        </label>
        <label className="flex items-start gap-3 cursor-pointer group">
          <input
            type="checkbox"
            readOnly
            className="mt-1 w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-2"
          />
          <span className="text-sm text-slate-700 group-hover:text-slate-900">
            Use correlation matrix to remove highly correlated features
          </span>
        </label>
      </div>

      {/* Explanation Button */}
      <Button variant="outline" tone="neutral" size="sm" className="w-full">
        Explanation
      </Button>
    </div>
  );
};

export const HeroSection: React.FC<HeroSectionProps> = () => {
  const posthog = usePostHog();

  const handlePrimaryCtaClick = () => {
    trackEvent(posthog, ANALYTICS_EVENTS.DIAGNOSTIC_STARTED, {
      source: "hero_cta",
      referrer: "homepage",
    });
  };

  return (
    // eslint-disable-next-line no-restricted-syntax
    <section className="w-full bg-slate-50 py-12 md:py-16 lg:py-24">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center lg:items-start">
          {/* Left Column: Text Content */}
          <div className="space-y-4 md:space-y-5 lg:space-y-6 text-center lg:text-left">
            {/* Eyebrow */}
            <span className="inline-block text-[0.6875rem] sm:text-xs font-medium tracking-wide uppercase text-blue-600 bg-blue-50 px-3 py-1.5 rounded-full">
              {heroContent.eyebrow}
            </span>

            {/* Headline */}
            {/* eslint-disable-next-line design/no-tailwind-arbitrary-values */}
            <h1 className="text-[1.75rem] sm:text-[2rem] md:text-4xl lg:text-5xl font-bold leading-[1.15] tracking-tight text-foreground">
              {heroContent.headline}
            </h1>

            {/* Subheadline */}
            {/* eslint-disable-next-line design/no-tailwind-arbitrary-values */}
            <p className="text-[0.9375rem] md:text-base lg:text-lg font-normal text-muted-foreground max-w-[22.5rem] md:max-w-lg lg:max-w-2xl mx-auto lg:mx-0">
              {heroContent.subheadline}
            </p>

            {/* CTAs */}
            <div className="flex flex-col sm:flex-row gap-3 sm:gap-4 items-center justify-center lg:justify-start">
              <Button
                asChild
                size="lg"
                tone="accent"
                variant="solid"
                className="w-full sm:w-auto h-12 rounded-lg sm:rounded-xl"
                onClick={handlePrimaryCtaClick}
                aria-label="Start free readiness check to assess your exam readiness"
              >
                <Link href={heroContent.primaryCta.href}>
                  {heroContent.primaryCta.text}
                </Link>
              </Button>
              <Link
                href={heroContent.secondaryCta.href}
                className="inline-flex items-center justify-center h-11 text-[color:var(--tone-accent)] hover:text-[color:var(--tone-accent)]/80 hover:underline font-medium text-base transition-colors"
              >
                {heroContent.secondaryCta.text}
              </Link>
            </div>

            {/* Microcopy */}
            <p className="text-[0.8125rem] sm:text-sm text-slate-500">{heroContent.microcopy}</p>
          </div>

          {/* Right Column: Product Mock */}
          <div className="relative mt-10 md:mt-8 lg:mt-0 w-full max-w-md mx-auto lg:max-w-none lg:mx-0">
            {/* Background Decorative Block - Hidden on mobile */}
            <div
              className="hidden lg:block absolute right-0 top-0 bottom-0 w-3/4 bg-slate-100 rounded-l-3xl -z-10"
              aria-hidden="true"
            />

            {/* Product Mock Cards */}
            <div
              role="img"
              aria-label="Readiness dashboard and example exam question preview showing Testero's question format."
              className="relative"
            >
              {/* Mobile: Stacked with transforms, Desktop: Absolute overlay */}
              <div className="relative">
                {/* Dashboard card - base layer */}
                <div className="relative z-0 transform lg:transform-none translate-y-8 lg:translate-y-0 scale-95 lg:scale-100">
                  <ReadinessDashboardCard />
                </div>

                {/* Question card - overlay */}
                <div className="relative lg:absolute lg:top-16 lg:right-0 lg:-right-4 z-10 -mt-16 lg:mt-0 mx-4 lg:mx-0">
                  <ExampleQuestionCard />
                </div>
              </div>

              {/* Decorative Diamond Shape */}
              <div
                className="absolute -bottom-4 -right-4 w-16 h-16 opacity-10"
                aria-hidden="true"
              >
                <svg viewBox="0 0 100 100" className="w-full h-full">
                  <path
                    d="M50 0 L100 50 L50 100 L0 50 Z"
                    fill="currentColor"
                    className="text-slate-400"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};
````

## File: components/pricing/PricingCard.tsx
````typescript
"use client";

import React from "react";
import { useRouter } from "next/navigation";
import { CheckCircle, Sparkles, AlertCircle } from "lucide-react";

import { Badge } from "@/components/ui/badge";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

interface PricingCardProps {
  tier: {
    id: string;
    name: string;
    description: string;
    monthlyPrice: number;
    annualPrice: number;
    monthlyPriceId?: string;
    annualPriceId?: string;
    features: string[];
    highlighted?: string[];
    recommended?: boolean;
    savingsPercentage?: number;
  };
  billingInterval: "monthly" | "annual";
  onCheckout: (priceId: string, tierName: string) => void;
  loading?: boolean;
  loadingId?: string | null;
}

export function PricingCard({
  tier,
  billingInterval,
  onCheckout,
  loading = false,
  loadingId = null,
}: PricingCardProps) {
  const router = useRouter();
  const price = billingInterval === "monthly" ? tier.monthlyPrice : tier.annualPrice;
  const priceId = billingInterval === "monthly" ? tier.monthlyPriceId : tier.annualPriceId;
  const checkoutPriceId = priceId ?? `${tier.id}-${billingInterval}`;
  const isCheckoutConfigured = Boolean(priceId);
  const isLoading = loading && loadingId === priceId;
  const monthlyEquivalent = billingInterval === "annual" ? Math.round(tier.annualPrice / 12) : null;

  const handleButtonClick = () => {
    if (!isCheckoutConfigured) {
      // Fallback: redirect to signup if checkout isn't configured
      router.push("/signup?redirect=/pricing");
      return;
    }
    onCheckout(checkoutPriceId, tier.name);
  };

  return (
    <Card
      data-recommended={tier.recommended ? "true" : undefined}
      variant={tier.recommended ? "elevated" : "default"}
      size="lg"
      className={cn(
        "relative w-full",
        tier.recommended
          ? "border-accent/50 ring-2 ring-accent/25"
          : "border-border/60",
        billingInterval === "annual" && tier.savingsPercentage ? "pt-6" : ""
      )}
    >
      {tier.recommended ? (
        <div className="absolute inset-x-0 -top-4 flex justify-center">
          <Badge
            tone="accent"
            variant="solid"
            icon={<Sparkles className="h-4 w-4" aria-hidden="true" />}
            className="shadow-lg"
          >
            Most popular
          </Badge>
        </div>
      ) : null}

      {billingInterval === "annual" && tier.savingsPercentage ? (
        <div className={cn(
          "absolute right-6",
          tier.recommended ? "top-12" : "top-6"
        )}>
          <Badge
            tone="success"
            variant="soft"
            size="sm"
            className="shadow-sm bg-emerald-700 text-white"
          >
            Save {tier.savingsPercentage}%
          </Badge>
        </div>
      ) : null}

      <CardHeader className="gap-2">
        <CardTitle className="text-3xl font-semibold text-foreground">
          {tier.name}
        </CardTitle>
        <CardDescription>{tier.description}</CardDescription>
      </CardHeader>

      <CardContent className="gap-6">
        <div className="space-y-3">
          <div className="flex items-baseline gap-2">
            <span className="text-5xl font-semibold tracking-tight text-foreground">
              ${price}
            </span>
            <span className="text-lg text-muted-foreground">
              /{billingInterval === "monthly" ? "month" : "year"}
            </span>
          </div>
          {monthlyEquivalent ? (
            <p className="text-sm text-muted-foreground">
              That&apos;s only ${monthlyEquivalent}/month
            </p>
          ) : null}
        </div>

        {tier.highlighted && tier.highlighted.length > 0 ? (
          <div className="space-y-2 rounded-lg border border-accent/30 bg-accent/5 p-4 md:p-6">
            {tier.highlighted.map((feature) => (
              <div key={feature} className="flex items-center gap-2">
                <CheckCircle className="h-5 w-5 flex-shrink-0 text-accent" aria-hidden="true" />
                <span className="text-sm font-medium text-foreground">{feature}</span>
              </div>
            ))}
          </div>
        ) : null}

        <ul className="space-y-3">
          {tier.features.map((feature) => (
            <li key={feature} className="flex items-start gap-3 text-sm text-muted-foreground">
              <CheckCircle className="mt-0.5 h-5 w-5 flex-shrink-0 text-success" aria-hidden="true" />
              <span>{feature}</span>
            </li>
          ))}
        </ul>
      </CardContent>

      <CardFooter className="flex-col items-stretch gap-3 border-0 pt-0">
        {isCheckoutConfigured ? (
          <Button
            fullWidth
            tone={tier.recommended ? "accent" : "neutral"}
            variant="solid"
            size="lg"
            loading={isLoading}
            disabled={isLoading}
            onClick={handleButtonClick}
          >
            Start Preparing
          </Button>
        ) : (
          <>
            <Button
              fullWidth
              tone={tier.recommended ? "accent" : "neutral"}
              variant="solid"
              size="lg"
              onClick={handleButtonClick}
            >
              Get Started
            </Button>
            <div className="flex items-start gap-2 rounded-md bg-yellow-50 p-3 border border-yellow-200">
              <AlertCircle className="h-4 w-4 text-yellow-600 flex-shrink-0 mt-0.5" aria-hidden="true" />
              <p className="text-xs text-yellow-800">
                Payment processing is being set up. Click to create your account and we&apos;ll notify you when checkout is ready.
              </p>
            </div>
          </>
        )}

        {tier.recommended ? (
          <p className="text-center text-xs text-muted-foreground">
            Chosen by 73% of our users
          </p>
        ) : null}
      </CardFooter>
    </Card>
  );
}
````

## File: app/page.tsx
````typescript
"use client";

import { useEffect, useState } from "react";
import { useInView } from "react-intersection-observer";
import { usePostHog } from "posthog-js/react";
import { trackEvent, ANALYTICS_EVENTS } from "@/lib/analytics/analytics";
import dynamic from "next/dynamic";
import Link from "next/link";
import { BenefitsSectionSkeleton } from "@/components/marketing/sections/benefits-section";
import { HeroSection } from "@/components/marketing/sections/hero-section";
import { TestimonialCarousel } from "@/components/marketing/sections/testimonial-carousel";
import { Button } from "@/components/ui/button";
import { JsonLd } from "./page.metadata";
import {
  CheckCircle,
  TrendingUp,
  Clock,
  Shield,
  Star,
  Zap,
  ArrowRight,
  Award,
} from "lucide-react";
import { SUBSCRIPTION_TIERS } from "@/lib/pricing/constants";
import { cn } from "@/lib/utils";
import { VALUE_PILLARS, VOCABULARY, MICROCOPY } from "@/lib/copy/message-house";

// Dynamically import the BenefitsSection component
const BenefitsSection = dynamic(
  () =>
    import("@/components/marketing/sections/benefits-section").then((mod) => mod.BenefitsSection),
  {
    loading: () => <BenefitsSectionSkeleton />,
    ssr: false,
  }
);

// Helper hook for tracking section views and lazy loading
function useTrackSectionView(sectionName: string, loadThreshold = 0.1) {
  const posthog = usePostHog();
  const [shouldLoad, setShouldLoad] = useState(false);
  const { ref, inView } = useInView({
    triggerOnce: true,
    threshold: loadThreshold,
    rootMargin: "200px 0px",
  });

  useEffect(() => {
    if (inView) {
      if (posthog) {
        trackEvent(posthog, ANALYTICS_EVENTS.FEATURE_DISCOVERED, {
          feature_name: sectionName,
          discovery_type: "scroll_view",
        });
      }
      setShouldLoad(true);
    }
  }, [inView, sectionName, posthog]);

  return { ref, shouldLoad, inView };
}

export default function Home() {
  const { ref: benefitsRef, shouldLoad: loadBenefits } = useTrackSectionView("benefits");
  const { ref: pricingPreviewRef, shouldLoad: loadPricingPreview } =
    useTrackSectionView("pricing_preview");
  const { ref: finalCtaRef } = useTrackSectionView("final_cta");
  const posthog = usePostHog();

  const handlePricingClick = (source: string) => {
    trackEvent(posthog, ANALYTICS_EVENTS.PRICING_PAGE_VIEWED, {
      source: `homepage_${source}`,
      referrer: "homepage",
    });
  };

  return (
    <main className="flex min-h-screen flex-col items-stretch justify-start bg-gradient-to-b from-slate-50 to-white">
      {/* Add JSON-LD structured data */}
      <JsonLd />

      {/* Hero Section */}
      <HeroSection />

      {/* Main content sections */}
      <div role="main" id="main-content" className="w-full overflow-x-hidden">
        {/* Value Anchors Section */}
        {/* eslint-disable-next-line no-restricted-syntax */}
        <section className="w-full py-16 px-4 sm:px-6 bg-white">
          <div className="max-w-6xl mx-auto">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              <div className="text-center">
                <div className="bg-[color:var(--tone-accent-surface)] rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                  <TrendingUp className="h-8 w-8 text-[color:var(--tone-accent)]" aria-hidden="true" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 mb-2">De-risk Your {VOCABULARY.examFee} Exam Fee</h3>
                <p className="text-gray-600">
                  {VALUE_PILLARS.readiness.description}
                </p>
              </div>
              <div className="text-center">
                <div className="bg-[color:var(--tone-accent-surface)] rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                  <Clock className="h-8 w-8 text-[color:var(--tone-accent)]" aria-hidden="true" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 mb-2">{VALUE_PILLARS.blueprint.title}</h3>
                <p className="text-gray-600">
                  {VALUE_PILLARS.blueprint.description}
                </p>
              </div>
              <div className="text-center">
                <div className="bg-[color:var(--tone-accent-surface)] rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                  <Shield className="h-8 w-8 text-[color:var(--tone-accent)]" aria-hidden="true" />
                </div>
                <h3 className="text-xl font-bold text-gray-900 mb-2">{MICROCOPY.moneyBackGuarantee}</h3>
                <p className="text-gray-600">
                  If it&apos;s not a fit, you&apos;re covered—no friction.
                </p>
              </div>
            </div>
          </div>
        </section>

        {/* Pricing Preview Section */}
        <section
          ref={pricingPreviewRef}
          // eslint-disable-next-line no-restricted-syntax
          className="w-full py-16 sm:py-20 px-4 sm:px-6 bg-gradient-to-b from-[color:var(--tone-accent-surface)]/20 to-white"
        >
          {loadPricingPreview && (
            <div className="max-w-7xl mx-auto">
              <div className="text-center mb-12">
                <h2 className="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">
                  Choose Your PMLE Readiness Plan
                </h2>
                <p className="text-xl text-gray-600 max-w-3xl mx-auto">
                  Everything you need to pass PMLE — unlimited practice, personalized diagnostics, and expert-level explanations.
                </p>
              </div>

              {/* Pricing Cards Preview */}
              <div className="flex justify-center mb-12">
                <div className="w-full max-w-md">
                {SUBSCRIPTION_TIERS.filter((tier) => !tier.isHidden).map((tier) => (
                  <div
                    key={tier.id}
                    className={cn(
                      "relative rounded-2xl p-5 sm:p-6 bg-white border-2 transition-all",
                      tier.recommended
                        ? "border-[color:var(--tone-accent)] shadow-xl md:scale-105"
                        : "border-gray-200 hover:border-gray-300 hover:shadow-lg"
                    )}
                  >

                    <div className="text-center mb-6 space-y-2">
                      <h3 className="text-2xl font-bold text-gray-900">{tier.name}</h3>
                      <div className="flex items-baseline justify-center">
                        <span className="text-3xl sm:text-4xl font-bold">${tier.monthlyPrice}</span>
                        <span className="text-sm text-gray-500 ml-2">/month</span>
                      </div>
                      <p className="text-sm sm:text-base text-green-600 font-medium">
                        Save {tier.savingsPercentage}% with annual billing
                      </p>
                    </div>

                    <ul className="space-y-3 mb-6 text-left">
                      {tier.highlighted?.slice(0, 3).map((feature) => (
                        <li key={feature} className="flex items-start gap-2">
                          <CheckCircle className="h-5 w-5 text-[color:var(--tone-success)] flex-shrink-0" />
                          <span className="text-sm sm:text-base text-gray-700">{feature}</span>
                        </li>
                      ))}
                    </ul>

                    <Button
                      asChild
                      size="md"
                      fullWidth
                      tone={tier.recommended ? "accent" : "neutral"}
                      variant={tier.recommended ? "solid" : "outline"}
                      className="text-base font-semibold h-12"
                      onClick={() => handlePricingClick(`preview_${tier.id}`)}
                    >
                      <Link href="/pricing">Start Preparing</Link>
                    </Button>
                  </div>
                ))}
                </div>
              </div>

              <div className="text-center">
                <Link
                  href="/pricing"
                  className="inline-flex items-center gap-2 text-[color:var(--tone-accent)] hover:text-[color:var(--tone-accent)]/80 font-semibold text-lg"
                  onClick={() => handlePricingClick("preview_compare")}
                >
                  Compare all features
                  <ArrowRight className="h-5 w-5" />
                </Link>
              </div>
            </div>
          )}
        </section>

        {/* Benefits Section - Lazy loaded */}
        <section ref={benefitsRef} aria-labelledby="benefits-heading">
          {loadBenefits ? <BenefitsSection /> : <BenefitsSectionSkeleton />}
        </section>

        {/* Enhanced Testimonials Section with Pricing Context */}
        {/* eslint-disable-next-line no-restricted-syntax */}
        <section className="w-full py-10 sm:py-16 md:py-24 px-4 sm:px-6 bg-slate-50">
          <div className="max-w-5xl mx-auto">
            <div className="text-center mb-12">
              <h2 className="text-2xl sm:text-3xl md:text-4xl font-bold text-slate-800 mb-4">
                Real Success Stories from Our Students
              </h2>
              <p className="text-lg text-gray-600">
                See how professionals like you achieved their certification goals
              </p>
            </div>

            <TestimonialCarousel
              testimonials={[
                {
                  id: "1",
                  quote:
                    "Failed PMLE twice before finding Testero. The diagnostic showed I was only 58% ready. After focused practice on my weakest domains, I passed. Worth every penny.",
                  author: "Alex Chen",
                  role: "ML Engineer at Google",
                },
                {
                  id: "2",
                  quote:
                    "The diagnostic immediately showed my weak areas. The explanations helped me understand concepts deeply, not just memorize answers. Better than any course I've taken.",
                  author: "Sarah Martinez",
                  role: "Senior Data Scientist",
                },
                {
                  id: "3",
                  quote:
                    "Testero's diagnostic saved me from wasting $200. I knew exactly where to focus my study time. The targeted practice on my weakest domains made all the difference.",
                  author: "Michael Johnson",
                  role: "Cloud ML Engineer",
                },
              ]}
            />

            {/* Success Metrics */}
            <div className="mt-12 grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
              <div>
                <div className="text-3xl font-bold text-[color:var(--tone-accent)]">$200</div>
                <div className="text-sm text-gray-600">Exam Cost at Risk</div>
              </div>
              <div>
                <div className="text-3xl font-bold text-[color:var(--tone-accent)]">10</div>
                <div className="text-sm text-gray-600">Min Diagnostic</div>
              </div>
              <div>
                <div className="text-3xl font-bold text-[color:var(--tone-accent)]">6</div>
                <div className="text-sm text-gray-600">PMLE Domains</div>
              </div>
              <div>
                <div className="text-3xl font-bold text-[color:var(--tone-accent)]">100%</div>
                <div className="text-sm text-gray-600">Blueprint Aligned</div>
              </div>
            </div>
          </div>
        </section>

        {/* Practice Explainer */}
        {/* eslint-disable-next-line no-restricted-syntax */}
        <section className="w-full py-16 px-4 sm:px-6 bg-white">
          <div className="max-w-4xl mx-auto text-center">
            <h2 className="text-2xl sm:text-3xl font-bold text-gray-900 mb-8">
              PMLE-Focused Training System
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div className="p-6">
                <Zap className="h-10 w-10 text-[color:var(--tone-accent)] mx-auto mb-4" />
                <h3 className="font-semibold text-lg mb-2">ML Concept Coverage</h3>
                <p className="text-gray-600">
                  Deep coverage of TensorFlow, Vertex AI, BigQuery ML, and MLOps practices aligned to the PMLE blueprint
                </p>
              </div>
              <div className="p-6">
                <Award className="h-10 w-10 text-[color:var(--tone-accent)] mx-auto mb-4" />
                <h3 className="font-semibold text-lg mb-2">Blueprint-Aligned</h3>
                <p className="text-gray-600">
                  Questions mapped to current PMLE domains and topics that actually appear on the exam
                </p>
              </div>
              <div className="p-6">
                <TrendingUp className="h-10 w-10 text-[color:var(--tone-accent)] mx-auto mb-4" />
                <h3 className="font-semibold text-lg mb-2">Readiness Score</h3>
                <p className="text-gray-600">
                  Know your exact PMLE readiness percentage before booking your $200 exam
                </p>
              </div>
            </div>
          </div>
        </section>

        {/* Enhanced Final CTA Section */}
        <section
          ref={finalCtaRef}
          // eslint-disable-next-line no-restricted-syntax
          className="w-full py-20 bg-gradient-to-r from-[color:var(--tone-accent)] via-[color:var(--tone-accent)]/90 to-[color:var(--tone-accent)]/80"
        >
          <div className="max-w-4xl mx-auto px-4 sm:px-6 text-center text-white">
            <h2 className="text-3xl sm:text-4xl font-bold mb-6">
              Be Confident When You Book PMLE
            </h2>
            <p className="text-xl mb-8 text-white/90">
              Start with a free diagnostic. Upgrade when you want step-by-step explanations and unlimited practice on your weakest domains.
            </p>

            {/* Urgency Elements */}
            <div className="bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8 max-w-2xl mx-auto">
              <div className="flex items-center justify-center gap-4 mb-4">
                <Clock className="h-6 w-6 text-yellow-300" />
                <span className="text-lg font-semibold">Limited Time Offer</span>
              </div>
              <p className="text-white/80 mb-4">
                New in 2025 • 7-day money-back guarantee • Cancel anytime
              </p>
              <div className="text-center">
                <div className="text-2xl font-bold">$39</div>
                <div className="text-sm text-white/70">PMLE Readiness/month</div>
              </div>
            </div>

            <div className="flex flex-col sm:flex-row gap-4 justify-center">
              <Button
                asChild
                size="lg"
                tone="accent"
                className="text-lg"
                iconRight={<ArrowRight className="h-5 w-5" />}
                onClick={() => handlePricingClick("final_cta_primary")}
              >
                <Link href="/pricing">See Pricing & Start Today</Link>
              </Button>
              <Button asChild variant="outline" tone="neutral" size="lg" className="text-lg">
                <Link href="/diagnostic">Take Free Diagnostic</Link>
              </Button>
            </div>

            {/* Trust Signals */}
            <div className="mt-8 flex flex-wrap justify-center gap-6 text-sm">
              <div className="flex items-center gap-2">
                <Shield className="h-5 w-5 text-[color:var(--tone-success)]" />
                <span>7-day money-back guarantee</span>
              </div>
              <div className="flex items-center gap-2">
                <CheckCircle className="h-5 w-5 text-[color:var(--tone-success)]" />
                <span>Cancel anytime</span>
              </div>
              <div className="flex items-center gap-2">
                <Star className="h-5 w-5 text-yellow-400" />
                <span>PMLE-focused</span>
              </div>
            </div>
          </div>
        </section>
      </div>

      {/* Related Content Links - Now with Pricing Focus */}
      {/* eslint-disable-next-line no-restricted-syntax */}
      <section className="w-full py-12 md:py-20 px-6 bg-slate-50">
        <div className="max-w-5xl mx-auto text-center">
          <h2 className="text-2xl sm:text-3xl font-bold text-slate-800 mb-8">
            PMLE Resources & Study Guides
          </h2>
          <div className="flex flex-wrap justify-center gap-6">
            <Link
              href="/pricing"
              className="text-[color:var(--tone-accent)] hover:underline text-lg font-semibold"
              onClick={() => handlePricingClick("footer_link")}
            >
                  View Pricing →
            </Link>
            <Link
              href="/content/hub/pmle-exam-study-guide"
              className="text-[color:var(--tone-accent)] hover:underline text-lg"
            >
              Complete PMLE Study Guide 2025
            </Link>
            <Link
              href="/content/hub/google-professional-machine-learning-engineer-certification-roadmap-2025"
              className="text-[color:var(--tone-accent)] hover:underline text-lg"
            >
              PMLE Certification Roadmap
            </Link>
            <Link href="/faq" className="text-[color:var(--tone-accent)] hover:underline text-lg">
              Frequently Asked Questions
            </Link>
          </div>
        </div>
      </section>
    </main>
  );
}
````

## File: lib/pricing/constants.ts
````typescript
// Comprehensive pricing configuration based on revenue model

// Runtime validation for required environment variables
const validatePriceIds = () => {
  const requiredPriceIds = [
    {
      key: "NEXT_PUBLIC_STRIPE_BASIC_MONTHLY",
      value: process.env.NEXT_PUBLIC_STRIPE_BASIC_MONTHLY,
    },
    { key: "NEXT_PUBLIC_STRIPE_BASIC_ANNUAL", value: process.env.NEXT_PUBLIC_STRIPE_BASIC_ANNUAL },
    { key: "NEXT_PUBLIC_STRIPE_PRO_MONTHLY", value: process.env.NEXT_PUBLIC_STRIPE_PRO_MONTHLY },
    { key: "NEXT_PUBLIC_STRIPE_PRO_ANNUAL", value: process.env.NEXT_PUBLIC_STRIPE_PRO_ANNUAL },
    {
      key: "NEXT_PUBLIC_STRIPE_ALL_ACCESS_MONTHLY",
      value: process.env.NEXT_PUBLIC_STRIPE_ALL_ACCESS_MONTHLY,
    },
    {
      key: "NEXT_PUBLIC_STRIPE_ALL_ACCESS_ANNUAL",
      value: process.env.NEXT_PUBLIC_STRIPE_ALL_ACCESS_ANNUAL,
    },
    // Exam package price IDs
    { key: "NEXT_PUBLIC_STRIPE_EXAM_3MONTH", value: process.env.NEXT_PUBLIC_STRIPE_EXAM_3MONTH },
    { key: "NEXT_PUBLIC_STRIPE_EXAM_6MONTH", value: process.env.NEXT_PUBLIC_STRIPE_EXAM_6MONTH },
    { key: "NEXT_PUBLIC_STRIPE_EXAM_12MONTH", value: process.env.NEXT_PUBLIC_STRIPE_EXAM_12MONTH },
  ];

  const missingIds = requiredPriceIds.filter(({ value }) => !value);

  if (missingIds.length > 0) {
    // Only log warning, never throw during module initialization
    console.warn(
      `Missing Stripe price IDs:`,
      missingIds.map(({ key }) => key)
    );
  }
};

// Only validate in browser context, not during build or SSR
if (typeof window !== "undefined") {
  validatePriceIds();
}

export interface PricingTier {
  id: string;
  name: string;
  description: string;
  monthlyPrice: number;
  annualPrice: number;
  monthlyPriceId?: string;
  annualPriceId?: string;
  features: string[];
  highlighted?: string[];
  recommended?: boolean;
  savingsPercentage?: number;
  isHidden?: boolean;
}

export interface ExamPackage {
  id: string;
  duration: string;
  months: number;
  price: number;
  priceId?: string;
  features: string[];
}

// Annual subscription tiers from revenue model
export const SUBSCRIPTION_TIERS: PricingTier[] = [
  {
    id: "basic",
    name: "PMLE Readiness",
    description: "Everything you need to pass the Google PMLE exam",
    monthlyPrice: 39,
    annualPrice: 349,
    monthlyPriceId: process.env.NEXT_PUBLIC_STRIPE_BASIC_MONTHLY,
    annualPriceId: process.env.NEXT_PUBLIC_STRIPE_BASIC_ANNUAL,
    features: [
      "Full PMLE question bank (200+ questions)",
      "Realistic scenario-based questions",
      "Detailed explanations for every answer",
      "Domain-level readiness breakdown",
      "Practice on your weak areas",
      "Progress tracking",
    ],
    highlighted: ["Full PMLE question bank", "Domain-level readiness breakdown"],
    savingsPercentage: 25,
  },
  {
    id: "pro",
    name: "Pro",
    description: "Most popular for serious learners",
    monthlyPrice: 59,
    annualPrice: 549,
    monthlyPriceId: process.env.NEXT_PUBLIC_STRIPE_PRO_MONTHLY,
    annualPriceId: process.env.NEXT_PUBLIC_STRIPE_PRO_ANNUAL,
    features: [
      "3 certification tracks",
      "All practice modes",
      "Advanced analytics",
      "Adaptive learning paths",
      "Spaced repetition",
      "Priority support",
      "Early access to new features",
      "Detailed explanations",
      "Performance insights",
    ],
    highlighted: ["3 certification tracks", "Adaptive practice modes", "Advanced analytics"],
    recommended: true,
    savingsPercentage: 23,
    isHidden: true,
  },
  {
    id: "all-access",
    name: "All-Access",
    description: "Ultimate learning experience",
    monthlyPrice: 79,
    annualPrice: 749,
    monthlyPriceId: process.env.NEXT_PUBLIC_STRIPE_ALL_ACCESS_MONTHLY,
    annualPriceId: process.env.NEXT_PUBLIC_STRIPE_ALL_ACCESS_ANNUAL,
    features: [
      "All certifications",
      "Unlimited tracks",
      "Team features",
      "API access",
      "Custom study plans",
      "1-on-1 coaching session",
      "Exclusive content",
      "White-glove support",
      "Bulk question generation",
      "Export capabilities",
    ],
    highlighted: ["All certifications", "Unlimited practice modes", "Team features"],
    savingsPercentage: 21,
    isHidden: true,
  },
];

// One-time exam packages
export const EXAM_PACKAGES: ExamPackage[] = [
  {
    id: "3-month",
    duration: "3-Month Access",
    months: 3,
    price: 99,
    priceId: process.env.NEXT_PUBLIC_STRIPE_EXAM_3MONTH,
    features: ["Full exam content", "Unlimited core practice exams", "Progress tracking", "Basic analytics"],
  },
  {
    id: "6-month",
    duration: "6-Month Access",
    months: 6,
    price: 149,
    priceId: process.env.NEXT_PUBLIC_STRIPE_EXAM_6MONTH,
    features: [
      "Full exam content",
      "Adaptive practice and domain drills",
      "Progress tracking",
      "Advanced analytics",
      "Priority support",
    ],
  },
  {
    id: "12-month",
    duration: "12-Month Access",
    months: 12,
    price: 199,
    priceId: process.env.NEXT_PUBLIC_STRIPE_EXAM_12MONTH,
    features: [
      "Full exam content",
      "Unlimited practice modes",
      "Progress tracking",
      "Advanced analytics",
      "Priority support",
      "Exam retake coverage",
    ],
  },
];

import { VOCABULARY, MICROCOPY, TRUST_SIGNALS } from "@/lib/copy/message-house";

// Value propositions for pricing page
export const VALUE_PROPS = {
  mainHeadline: "Know Your PMLE Readiness Before You Book",
  subHeadline:
    "Start with a free diagnostic. Upgrade when you want step-by-step explanations and unlimited targeted practice on your weakest domains.",
  guarantees: [
    MICROCOPY.moneyBackGuarantee,
    "Content aligned to current PMLE blueprint",
  ],
  trustBadges: TRUST_SIGNALS,
  valueAnchors: {
    examCost: `De-risk your ${VOCABULARY.examFee} exam fee`,
    time: "Diagnostic identifies your weak areas for focused study",
    success: "Start with a free diagnostic to assess your readiness",
  },
};

// Comparison table data
export const FEATURE_COMPARISON = [
  {
    category: "Core Features",
    features: [
      { name: "PMLE Question Bank", basic: "200+ questions" },
      { name: "Realistic Scenario Questions", basic: true },
      { name: "Detailed Explanations", basic: true },
      { name: "Diagnostic Tests", basic: true },
      { name: "Domain-Level Readiness", basic: true },
      { name: "Progress Tracking", basic: true },
    ],
  },
  {
    category: "Practice & Study",
    features: [
      { name: "Practice on Weak Areas", basic: true },
      { name: "Scenario-Based Questions", basic: true },
      { name: "Documentation-Grounded Explanations", basic: true },
    ],
  },
];

// FAQ data for pricing page
export const PRICING_FAQ = [
  {
    question: "Do you offer refunds?",
    answer:
      "Yes — 7-day no-questions-asked refund.",
  },
  {
    question: "Why is Testero better than free practice questions?",
    answer:
      "Because free questions are outdated, don't follow the blueprint, and don't tell you what to study next. Testero does.",
  },
    {
      question: "Will the questions match the real PMLE exam?",
      answer:
        "Yes. All content is aligned with the current PMLE exam blueprint. Questions are designed to reflect the exam format and topics that actually appear on the test.",
    },
  {
    question: "Is this an official Google product?",
    answer:
      "No — Testero is independent.",
  },
  {
    question: "Can I change my subscription?",
    answer:
      "Yes! You can cancel or modify your subscription at any time. Changes are prorated, so you only pay for what you use.",
  },
];

// Testimonials for pricing page
export const PRICING_TESTIMONIALS: Array<{
  quote: string;
  author: string;
  role: string;
  certification: string;
  tier: string;
}> = [];
````

## File: app/pricing/page.tsx
````typescript
"use client";

import React, { useState, useEffect, useRef } from "react";
import { useRouter } from "next/navigation";
import { useAuth } from "@/components/providers/AuthProvider";
import {
  CheckCircle,
  Shield,
  TrendingUp,
  Award,
  ChevronDown,
  ChevronUp,
  Zap,
  RefreshCw,
  X,
  AlertCircle,
} from "lucide-react";
import { usePostHog } from "posthog-js/react";
import { trackEvent, ANALYTICS_EVENTS } from "@/lib/analytics/analytics";
import {
  getTierNameFromPriceId,
  getPaymentMode,
  getPlanType,
} from "@/lib/pricing/price-utils";
import { PricingCard } from "@/components/pricing/PricingCard";
import { ComparisonTable } from "@/components/pricing/ComparisonTable";
import { FreeVsPaidComparison } from "@/components/pricing/FreeVsPaidComparison";
import { Container, Section } from "@/components/patterns";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import Link from "next/link";
import {
  SUBSCRIPTION_TIERS,
  VALUE_PROPS,
  FEATURE_COMPARISON,
  PRICING_FAQ,
} from "@/lib/pricing/constants";
import { cn } from "@/lib/utils";

const PLAN_HIGHLIGHTS = [
  {
    icon: Zap,
    title: "Unlimited PMLE Practice",
    description: "Unlimited practice questions aligned with the exam blueprint, updated as the exam evolves.",
  },
  {
    icon: TrendingUp,
    title: "Domain-Targeted Drills",
    description: "Focus your study time on your weakest areas with personalized domain-level practice.",
  },
  {
    icon: Award,
    title: "Full Diagnostic + Readiness Score",
    description: "Get instant personalized readiness insights that pinpoint exactly what to study next.",
  },
];

export default function PricingPage() {
  const [billingInterval, setBillingInterval] = useState<"monthly" | "annual">("annual");
  const [showComparison, setShowComparison] = useState(false);
  const [openFaqIndex, setOpenFaqIndex] = useState<number | null>(null);
  const [loading, setLoading] = useState<string | null>(null);
  const [error, setError] = useState<string | null>(null);
  const errorTimeoutRef = React.useRef<number | null>(null);
  const checkoutInFlightRef = useRef<Set<string>>(new Set());
  const checkoutIdempotencyKeyRef = useRef<Map<string, string>>(new Map());
  const { user } = useAuth();
  const router = useRouter();
  const posthog = usePostHog();

  // Filter out hidden tiers to show only visible plans
  const visibleTiers = SUBSCRIPTION_TIERS.filter((tier) => !tier.isHidden);

  // Track page view
  useEffect(() => {
    trackEvent(posthog, ANALYTICS_EVENTS.PRICING_PAGE_VIEWED, {
      user_id: user?.id,
      billing_interval: billingInterval,
    });
  }, [posthog, user, billingInterval]);

  const handleCheckout = async (priceId: string, planName: string) => {
    // Validate price ID format (Stripe price IDs start with price_)
    // If it's a fallback ID (tier-billing format), redirect to signup
    if (!priceId.startsWith("price_")) {
      trackEvent(posthog, ANALYTICS_EVENTS.SIGNUP_ATTEMPT, {
        plan_name: planName,
        source: "pricing_checkout_missing_price_id",
      });
      router.push("/signup?redirect=/pricing");
      return;
    }

    // Calculate analytics properties
    const tierName = getTierNameFromPriceId(priceId);
    const paymentMode = getPaymentMode(priceId);
    const planType = getPlanType(priceId);

    // Track checkout intent
    trackEvent(posthog, ANALYTICS_EVENTS.CHECKOUT_INITIATED, {
      plan_name: planName,
      tier_name: tierName,
      billing_interval: billingInterval,
      price_id: priceId,
      payment_mode: paymentMode,
      plan_type: planType,
      user_id: user?.id,
    });

    // Require authentication
    if (!user) {
      trackEvent(posthog, ANALYTICS_EVENTS.SIGNUP_ATTEMPT, {
        plan_name: planName,
        source: "pricing_checkout_redirect",
      });
      router.push("/signup?redirect=/pricing");
      return;
    }

    // Guard against double-submits (double click / repeated taps) before state updates land.
    // Must check and acquire lock BEFORE try block to prevent concurrent finally blocks from clearing refs prematurely.
    if (checkoutInFlightRef.current.has(priceId)) {
      return;
    }
    checkoutInFlightRef.current.add(priceId);
    const acquiredLock = true;

    if (!checkoutIdempotencyKeyRef.current.has(priceId)) {
      checkoutIdempotencyKeyRef.current.set(priceId, crypto.randomUUID());
    }
    const idempotencyKey = checkoutIdempotencyKeyRef.current.get(priceId)!;

    setLoading(priceId);

    try {
      const response = await fetch("/api/billing/checkout", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "x-idempotency-key": idempotencyKey,
        },
        body: JSON.stringify({
          priceId,
          idempotencyKey,
        }),
      });

      const data = (await response.json()) as { error?: string; url?: string };

      if (!response.ok) {
        throw new Error(data.error || "Failed to create checkout session");
      }

      // Track successful checkout session creation
      trackEvent(posthog, ANALYTICS_EVENTS.CHECKOUT_SESSION_CREATED, {
        plan_name: planName,
        tier_name: tierName,
        billing_interval: billingInterval,
        price_id: priceId,
        payment_mode: paymentMode,
        plan_type: planType,
        user_id: user?.id,
      });

      // Redirect to Stripe Checkout
      if (data.url) {
        window.location.href = data.url;
        // Clear idempotency key only on confirmed success/redirect
        checkoutIdempotencyKeyRef.current.delete(priceId);
      } else {
        throw new Error("No checkout URL returned from server");
      }
    } catch (error) {
      console.error("Checkout error:", error);

      const errorMessage = error instanceof Error ? error.message : "Unknown error";
      
      trackEvent(posthog, ANALYTICS_EVENTS.CHECKOUT_ERROR, {
        error: errorMessage,
        plan_name: planName,
        tier_name: tierName,
        billing_interval: billingInterval,
        price_id: priceId,
        payment_mode: paymentMode,
        plan_type: planType,
        user_id: user?.id,
      });

      // Provide more specific error messages
      let userFriendlyError = "Failed to start checkout. Please try again.";
      if (errorMessage.includes("price") || errorMessage.includes("Price")) {
        userFriendlyError = "This plan is temporarily unavailable. Please contact support or try a different plan.";
      } else if (errorMessage.includes("session") || errorMessage.includes("Session")) {
        userFriendlyError = "Unable to create checkout session. Please refresh the page and try again.";
      } else if (errorMessage.includes("network") || errorMessage.includes("fetch")) {
        userFriendlyError = "Network error. Please check your connection and try again.";
      }

      setError(userFriendlyError);
      // Error persists longer (10 seconds) and can be manually dismissed
      if (errorTimeoutRef.current) window.clearTimeout(errorTimeoutRef.current);
      errorTimeoutRef.current = window.setTimeout(() => setError(null), 10000);
      
      // Keep idempotency key on error for safe retries
    } finally {
      setLoading(null);
      // Only release lock if this invocation actually acquired it
      if (acquiredLock) {
        checkoutInFlightRef.current.delete(priceId);
      }
    }
  };

  const toggleBillingInterval = () => {
    const newInterval = billingInterval === "monthly" ? "annual" : "monthly";
    setBillingInterval(newInterval);
    trackEvent(posthog, ANALYTICS_EVENTS.PRICING_PLAN_SELECTED, {
      from_interval: billingInterval,
      to_interval: newInterval,
      action: "toggle_billing",
    });
  };

  // Clean up error timeout on unmount
  useEffect(() => {
    return () => {
      if (errorTimeoutRef.current) window.clearTimeout(errorTimeoutRef.current);
    };
  }, []);

  return (
    <div className="min-h-screen bg-gradient-to-b from-slate-50 to-white">
      {/* Hero Section with Value Proposition */}
      <Section
        contained={false}
        size="xl"
        surface="brand"
        className="relative overflow-hidden bg-gradient-to-br from-[color:var(--tone-accent)] via-[color:var(--tone-accent)]/95 to-[color:var(--tone-accent)]/90 text-white"
      >
        <div className="absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,rgba(255,255,255,0.1))]" />
        <Container className="relative">
          <div className="text-center">
            <h1 className="text-4xl sm:text-5xl lg:text-6xl font-bold mb-6">
              {VALUE_PROPS.mainHeadline}
            </h1>
            <p className="text-xl sm:text-2xl mb-8 text-white/90 max-w-3xl mx-auto">
              {VALUE_PROPS.subHeadline}
            </p>

            {/* Trust Badges */}
            <div className="flex flex-wrap justify-center gap-4 sm:gap-8 mb-8">
              {VALUE_PROPS.trustBadges.map((badge) => (
                <div
                  key={badge}
                  className="flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2"
                >
                  <CheckCircle className="h-5 w-5 text-[color:var(--tone-success)]" />
                  <span className="text-sm sm:text-base font-medium">{badge}</span>
                </div>
              ))}
            </div>

            {/* Guarantees */}
            <div className="flex flex-wrap justify-center gap-6 text-sm sm:text-base mb-8">
              {VALUE_PROPS.guarantees.map((guarantee) => (
                <div key={guarantee} className="flex items-center gap-2">
                  <Shield className="h-5 w-5 text-yellow-400" />
                  <span>{guarantee}</span>
                </div>
              ))}
            </div>
          </div>
        </Container>
      </Section>

      {/* Error Alert */}
      {error && (
        <Container className="mt-6">
          <div className="rounded-md bg-red-50 border border-red-200 p-4" role="alert">
            <div className="flex items-start gap-3">
              <AlertCircle className="h-5 w-5 text-red-600 flex-shrink-0 mt-0.5" aria-hidden="true" />
              <div className="flex-1">
                <p className="text-sm font-medium text-red-800">{error}</p>
                <p className="text-xs text-red-600 mt-1">
                  If this problem persists, please{" "}
                  <a href="mailto:support@testero.ai" className="underline font-medium">
                    contact support
                  </a>
                  .
                </p>
              </div>
              <button
                type="button"
                onClick={() => setError(null)}
                className="text-red-600 hover:text-red-800 flex-shrink-0"
                aria-label="Dismiss error"
              >
                <X className="h-5 w-5" />
              </button>
            </div>
          </div>
        </Container>
      )}

      {/* Billing Toggle */}
      <Container className="py-8 relative z-10">
        <div className="flex justify-center">
          <div className="inline-flex items-center bg-white rounded-full shadow-lg p-1">
            <button
              onClick={() => billingInterval === "annual" && toggleBillingInterval()}
              className={cn(
                "px-6 py-3 rounded-full text-sm font-semibold transition-all duration-200",
                billingInterval === "monthly"
                  ? "bg-[color:var(--tone-accent)] text-white"
                  : "text-gray-600 hover:text-gray-900"
              )}
            >
              Monthly
            </button>
            <button
              onClick={() => billingInterval === "monthly" && toggleBillingInterval()}
              className={cn(
                "px-6 py-3 rounded-full text-sm font-semibold transition-all duration-200 flex items-center gap-2",
                billingInterval === "annual"
                  ? "bg-[color:var(--tone-accent)] text-white"
                  : "text-gray-600 hover:text-gray-900"
              )}
            >
              Annual
              {billingInterval === "annual" && (
                <Badge tone="success" variant="soft" size="sm" className="bg-emerald-700 text-white">
                  SAVE 25%
                </Badge>
              )}
            </button>
          </div>
        </div>
      </Container>

      {/* Main Pricing Cards */}
      <Section
        id="pricing-cards"
        size="xl"
        surface="subtle"
        divider="both"
      >
        <div className="flex justify-center">
          <div className="w-full max-w-md">
            {visibleTiers.map((tier) => (
              <PricingCard
                key={tier.id}
                tier={tier}
                billingInterval={billingInterval}
                onCheckout={handleCheckout}
                loading={!!loading}
                loadingId={loading}
              />
            ))}
          </div>
        </div>
      </Section>

      {/* Plan Highlights */}
      <Section size="xl" surface="subtle" divider="bottom">
        <div className="mx-auto max-w-4xl">
          <div className="text-center mb-8">
            <h2 className="text-2xl font-bold text-gray-900 dark:text-slate-100 mb-4">Everything You Need for PMLE Readiness</h2>
            <p className="text-gray-600 dark:text-slate-300">
              Full access to realistic PMLE questions, detailed explanations, and domain-level readiness insights.
            </p>
          </div>
          <div className="grid grid-cols-1 gap-6 md:grid-cols-3">
            {PLAN_HIGHLIGHTS.map((highlight) => {
              const Icon = highlight.icon;
              return (
                <div
                  key={highlight.title}
                  className="rounded-lg border border-slate-200 bg-white p-6 text-center shadow-sm transition-colors dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"
                >
                  <Icon className="mx-auto mb-3 h-10 w-10 text-[color:var(--tone-accent)] dark:text-[color:var(--tone-accent)]" />
                  <h3 className="mb-2 font-semibold text-gray-900 dark:text-slate-100">{highlight.title}</h3>
                  <p className="mt-2 text-sm text-gray-600 dark:text-slate-300">{highlight.description}</p>
                </div>
              );
            })}
          </div>
        </div>
      </Section>

      {/* Free vs Paid Comparison */}
      <Section size="xl" surface="subtle" divider="bottom">
        <FreeVsPaidComparison />
      </Section>

      {/* Feature Comparison */}
      <Section size="xl" surface="subtle" divider="bottom">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-gray-900 mb-4">Compare Plans in Detail</h2>
            <button
              onClick={() => setShowComparison(!showComparison)}
              className="inline-flex items-center gap-2 text-[color:var(--tone-accent)] hover:text-[color:var(--tone-accent)]/80 font-semibold"
            >
              {showComparison ? "Hide" : "Show"} detailed comparison
              {showComparison ? (
                <ChevronUp className="h-5 w-5" />
              ) : (
                <ChevronDown className="h-5 w-5" />
              )}
            </button>
          </div>

          {showComparison && (
            <ComparisonTable
              categories={FEATURE_COMPARISON}
              onSelectPlan={(planId) => {
                const element = document.getElementById("pricing-cards");
                element?.scrollIntoView({ behavior: "smooth" });
                // Find the matching tier and trigger checkout
                const tier = SUBSCRIPTION_TIERS.find((t) => t.id === planId);
                if (tier) {
                  const priceId =
                    billingInterval === "monthly" ? tier.monthlyPriceId : tier.annualPriceId;
                  if (priceId) {
                    handleCheckout(priceId, tier.name);
                  } else {
                    // Fallback: if no price ID, redirect to signup
                    trackEvent(posthog, ANALYTICS_EVENTS.SIGNUP_ATTEMPT, {
                      plan_name: tier.name,
                      source: "comparison_table_checkout",
                    });
                    router.push("/signup?redirect=/pricing");
                  }
                }
              }}
            />
          )}
      </Section>

      {/* FAQ Section */}
      <Section size="xl" surface="default" divider="bottom">
        <div className="mx-auto max-w-3xl">
          <h2 className="text-3xl font-bold text-center text-gray-900 mb-12">
            Frequently Asked Questions
          </h2>
          <div className="space-y-4">
            {PRICING_FAQ.map((faq, index) => (
              <div key={index} className="border border-gray-200 rounded-lg">
                <button
                  onClick={() => setOpenFaqIndex(openFaqIndex === index ? null : index)}
                  className="w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors"
                >
                  <span className="font-semibold text-gray-900">{faq.question}</span>
                  {openFaqIndex === index ? (
                    <ChevronUp className="h-5 w-5 text-gray-500" />
                  ) : (
                    <ChevronDown className="h-5 w-5 text-gray-500" />
                  )}
                </button>
                {openFaqIndex === index && (
                  <div className="px-6 pb-4">
                    <p className="text-gray-600">{faq.answer}</p>
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>
      </Section>

      {/* Final CTA */}
      <Section
        contained={false}
        size="xl"
        surface="brand"
        divider="top"
        className="bg-gradient-to-r from-[color:var(--tone-accent)] via-[color:var(--tone-accent)]/90 to-[color:var(--tone-accent)]/80"
      >
        <Container className="max-w-4xl text-center text-white">
          <h2 className="text-3xl font-bold text-white mb-4">Ready to Know Your Readiness?</h2>
          <p className="text-xl text-white/90 mb-8">
            Start with a free diagnostic. Upgrade when you want explanations and unlimited targeted practice.
          </p>
          <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <Button
              asChild
              size="lg"
              tone="accent"
            >
              <Link href="/signup">Start Free Diagnostic</Link>
            </Button>
            <Button
              size="lg"
              variant="soft"
              tone="accent"
              onClick={() => {
                const element = document.getElementById("pricing-cards");
                element?.scrollIntoView({ behavior: "smooth" });
              }}
            >
              View Pricing Plans
            </Button>
          </div>
          <div className="mt-8 flex items-center justify-center gap-2 text-white">
              <RefreshCw className="h-5 w-5" />
            <span>7-day money-back guarantee • Cancel anytime</span>
          </div>
        </Container>
      </Section>

      {/* Pricing Cards Anchor handled via Section id */}
    </div>
  );
}
````
